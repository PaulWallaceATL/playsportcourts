/* Container */
.cb { --sel: #1E40AF; --ambient: 30,64,175; }
.cb .readout { font-feature-settings: "tnum" on, "lnum" on; letter-spacing: 0.02em; }

/* Preview with perspective */
.cb-preview { position: relative; border-radius: 16px; overflow: hidden; backdrop-filter: blur(14px) saturate(1.2); -webkit-backdrop-filter: blur(14px) saturate(1.2); border: 1px solid rgba(255,255,255,0.08); box-shadow: 0 10px 30px rgba(0,0,0,0.35), 0 0 32px rgba(0,212,255,0.1); }
.cb-preview::before { content: ""; position: absolute; inset: -20%; background: radial-gradient(600px 400px at 20% 120%, rgba(var(--ambient),0.18), transparent 60%); pointer-events: none; }
.cb-preview::after { content: ""; position: absolute; inset: 0; background: repeating-linear-gradient(0deg, rgba(255,255,255,0.05), rgba(255,255,255,0.05) 2px, transparent 2px, transparent 6px); mix-blend-mode: overlay; opacity: 0.08; pointer-events: none; }
.cb-preview.rippling::before { background:
  radial-gradient(200px 200px at var(--rx,50%) var(--ry,50%), rgba(255,255,255,0.18), transparent 60%),
  radial-gradient(600px 400px at 20% 120%, rgba(var(--ambient),0.18), transparent 60%); }

.cb-stage { position: relative; perspective: 1000px; height: 100%; }
.cb-court { position: absolute; inset: 10% 5% 20%; border-radius: 12px; background: var(--sel); transform: rotateX(55deg); transform-origin: center bottom; box-shadow: inset 0 -40px 120px rgba(0,0,0,0.45); }
.cb-court::before { content: ""; position: absolute; inset: 0; border-radius: 12px; background:
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0) 30%),
    radial-gradient(800px 400px at 50% 0%, rgba(255,255,255,0.12), transparent 60%);
  pointer-events: none; }
.cb-lines { position: absolute; inset: 0; border-radius: 12px; border: 2px solid rgba(255,255,255,0.9); box-shadow: 0 0 10px rgba(255,255,255,0.5); }
.cb-lines::before, .cb-lines::after { content: ""; position: absolute; top: 25%; bottom: 25%; width: 15%; border: 2px solid rgba(255,255,255,0.9); }
.cb-lines::before { left: 0; border-right: 0; }
.cb-lines::after { right: 0; border-left: 0; }
.cb-center { position: absolute; left: 50%; top: 0; bottom: 0; width: 2px; background: rgba(255,255,255,0.9); transform: translateX(-50%); box-shadow: 0 0 10px rgba(255,255,255,0.5); }

/* Painted key/area */
.cb-key { position: absolute; left: 0; top: 25%; bottom: 25%; width: 15%; border-radius: 8px 0 0 8px; background: var(--key, rgba(255,255,255,0.12)); box-shadow: inset 0 -20px 40px rgba(0,0,0,0.35); }
.cb-key.right { left: auto; right: 0; border-radius: 0 8px 8px 0; }

/* Sport overlays */
.overlay { position: absolute; inset: 0; pointer-events: none; }
.overlay .line { position: absolute; background: rgba(255,255,255,0.9); box-shadow: 0 0 6px rgba(255,255,255,0.5); }
.overlay .circle { position: absolute; border: 2px solid rgba(255,255,255,0.9); border-radius: 9999px; box-shadow: 0 0 6px rgba(255,255,255,0.5); }

/* Basketball */
.bb-center { width: 12%; aspect-ratio: 1/1; left: 44%; top: 44%; }

/* Pickleball inner rectangle */
.pb-rect { left: 20%; right: 20%; top: 30%; bottom: 30%; border: 2px solid rgba(255,255,255,0.9); border-radius: 6px; box-shadow: 0 0 6px rgba(255,255,255,0.5); }
.pb-center { left: 20%; right: 20%; top: 50%; height: 2px; }

/* Hockey (center line and creases) */
.hk-center { left: 0; right: 0; top: 50%; height: 2px; }
.hk-crease { width: 10%; height: 10%; border: 2px solid rgba(255,255,255,0.9); border-radius: 30%/40%; top: 45%; }
.hk-crease.left { left: 2%; transform: translateY(-50%); }
.hk-crease.right { right: 2%; transform: translateY(-50%); }

/* Draggable items */
.drag-item { position: absolute; width: 24px; height: 24px; border-radius: 6px; background: var(--drag, #00d4ff); box-shadow: 0 0 12px rgba(0,212,255,0.6); cursor: grab; pointer-events: auto; }
.drag-item:active { cursor: grabbing; }
.drag-hoop { border-radius: 9999px; width: 18px; height: 18px; border: 3px solid #ff6b35; background: transparent; box-shadow: 0 0 12px rgba(255,107,53,0.6); }
.drag-net { width: 26px; height: 6px; background: #00ff88; box-shadow: 0 0 10px rgba(0,255,136,0.6); border-radius: 3px; }
.drag-goal { width: 20px; height: 14px; background: #8b5cf6; box-shadow: 0 0 10px rgba(139,92,246,0.6); border-radius: 3px; }

/* Palette */
.palette { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 10px; }
.swatch3d { width: 32px; height: 32px; border-radius: 8px; cursor: pointer; transform-style: preserve-3d; transition: transform 180ms ease, box-shadow 180ms ease; box-shadow: inset 0 1px 0 rgba(255,255,255,0.1), 0 6px 14px rgba(0,0,0,0.4); border: 1px solid rgba(255,255,255,0.1); position: relative; }
.swatch3d::after { content: ""; position: absolute; inset: 0; border-radius: inherit; background: linear-gradient(180deg, rgba(255,255,255,0.2), rgba(255,255,255,0)); pointer-events: none; }
.swatch3d:hover { transform: translateY(-2px) rotateX(6deg); }
.swatch3d.active { box-shadow: 0 0 0 2px rgba(0,212,255,0.6), 0 0 20px rgba(0,212,255,0.4), inset 0 1px 0 rgba(255,255,255,0.2); }

.code-badge { padding: 4px 8px; border-radius: 8px; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12); box-shadow: 0 0 0 1px rgba(0,212,255,0.25), 0 0 18px rgba(0,212,255,0.12); }

